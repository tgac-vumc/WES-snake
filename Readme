

To run this pipeline Snakemake is required.

for easy installation you need (mini)conda.

Miniconda installation from folder where you want to install miniconda:

```
cd </path/to/files/dir/>
wget https://repo.continuum.io/miniconda/Miniconda3-latest-Linux-x86_64.sh
bash Miniconda3-latest-Linux-x86_64.sh
```

follow the instructions of the installation process, give the location where you want miniconda to be installed and answer YES to add miniconda to your path.

go to the directory where the analysis need to be performed

```
cd </path/to/analysis/dir>
git clone https://github.com/tgac-vumc/Alignment-snake.git
cd Alignment-snake
```

install the complete alignment-snake environment using conda or install just the snakemake environment,
the last option is useful if you only want to use part of the pipeline and not want to install all required programs.
```
conda env create --name  Alignment-snake --file environment.yaml

or

conda env create --name snakemake --file snakemake.yaml

```
Install dependencies not available in conda:

Abra: https://github.com/mozack/abra/releases/download/v0.96/abra-0.96-SNAPSHOT-jar-with-dependencies.jar
SeqPurge : https://github.com/imgag/ngs-bits.git


activate the environment by:
```
source activate Alignment-snake

or

source activate snakemake

```

go to alignment-snake directory and change the configfile with the correct paths to the reference files, than start snakemake.

```

snakemake

or in case the snakemake environment is installed:

snakemake --use-conda

```
Useful snakemake options

-j , --cores, --jobs : Use at most N cores in parallel (default: 1). If N is omitted, the limit is set to the number of available cores.
-n , --dryrun : Do not execute anything. but show rules which are planned to be performed.
-k , --keep-going : Go on with independent jobs if a job fails.
-f , --force : Force the execution of the selected target or the first rule regardless of already created output.
-U , --until : Runs the pipeline until it reaches the specified rules or files. Only runs jobs that are dependencies of the specified rule or files, does not run sibling DAGs.
-T , --timestamp : Add a timestamp to all logging output

for all options go to http://snakemake.readthedocs.io/en/stable/executable.html#all-options
